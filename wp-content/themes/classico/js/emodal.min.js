/**
 * jquery.emodal.js v1.0.0
 * http://8theme.com
 *
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 * Copyright 2013, Serg Sokhatskiy
 * http://8theme.com
 */
 
!function(t,e){"use strict";var i=e.Modernizr,o={},n={_init:function(e){return n.$el=t(this),n.options=t.extend(!0,{custom:!1,modalIdAttribute:"modal-id",hiddeBtnID:"hideemodal"},e),n._config(),n.$el.click(function(){}),this},_config:function(){var e=n.$el.data(n.options.modalIdAttribute);return o.modal=t("#"+e),this},showModal:function(){return n.baseHtml(),n.startLoading(),o.overlay.addClass("shown"),o.html.addClass("shown"),this},hideModal:function(){return o.overlay.removeClass("shown"),o.html.removeClass("shown"),setTimeout(function(){n.destroy()},300),this},setHideEvent:function(){o.overlay.click(function(){n.hideModal()}),o.closeBtnHtml.click(function(){n.hideModal()});var e=t("#"+n.options.hiddeBtnID);e.click(function(){n.hideModal()})},setHTML:function(t){return o.html.html(t),this},setTitle:function(t){return o.modalTitle.text(t),this},addText:function(t){return o.modalText.append(t),this},addError:function(t){return o.modalText.append('<p class="error-msg">'+t+"</p>"),o.modalTitle.text("ERROR"),this},addImage:function(t){return o.html.addClass("with-image"),o.modalImage=jQuery('<img src="'+t+'" />').appendTo(o.html),this},addBtn:function(e){return e=t.extend(!0,{href:"",cssClass:"",onclick:"",id:"",title:"",hideOnClick:!1},e),o.modalBtn=jQuery('<a href="'+e.href+'" id="'+e.id+'" class="'+e.cssClass+'" onclick="'+e.onclick+'"><span>'+e.title+"</span></a>").appendTo(o.modalText),e.hideOnClick&&o.modalBtn.click(function(){n.hideModal()}),this},startLoading:function(){return o.html.addClass("eloading"),this},endLoading:function(){return o.html.removeClass("eloading"),this},baseHtml:function(){return o.overlay=jQuery('<div class="emodal-overlay"></div>'),o.html=jQuery('<div class="emodal" id="base-modal"><div class="emodal-border"></div></div>'),o.modalText=jQuery('<div class="emodal-text"></div>').prependTo(o.html),o.modalTitle=jQuery('<h5 class="emodal-title"></h5>').prependTo(o.modalText),o.closeBtnHtml=jQuery('<div class="close-modal"><i class="icon-remove"></i></div>').prependTo(o.html),i.csstransforms&&(o.overlay.addClass("with-transforms"),o.html.addClass("with-transforms")),i.csstransitions&&(o.overlay.addClass("with-transitions"),o.html.addClass("with-transitions")),t("body").prepend(o.overlay),t("body").prepend(o.html),n.setHideEvent(),this},destroy:function(){return o.overlay.remove(),o.html.remove(),this}};t.fn.eModal=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("invalid method call!"):n._init.apply(this,arguments)}}(jQuery,window);